<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Bezier Plot</title>
<script type="text/javascript" src="utils.js"></script>
<script type="text/javascript" src="drawable.js"></script>
<script type="text/javascript" src="point.js"></script>
<script type="text/javascript" src="line.js"></script>
<script type="text/javascript" src="bezier.js"></script>
<script type="text/javascript" src="bezier_plot.js"></script>

<script language="javascript">

    function clear()
    {
        this.value = "0,0 10,90 150,110 200,-10 0,0"
        this.focus();
    }

    function clearTextAreas()
    {
        clearText("lineData");
    }

    function clearText(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        textArea.clear = clear;
        textArea.clear();
    }

    function submitLines(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawLines(parseLines(textArea.value));
    }

    function submitBezier(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawBezier(parseBezier(textArea.value));
    }

</script>

<style type="text/css">
    #canvas { border: 1px solid; float:left; position:relative; left:10px; top:15px }
    #debug { color: blue; border: 1px none; padding:3px; float:left; position:absolute; top:550px; }
    div { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; }
    textarea { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; width:95%; height:60%}
    #data { text-align:center; float:left; width:30% }
</style>
</head>

<body onload="clearTextAreas(); init('plot');" bgcolor="#ffffff">
    <div id="data">
		Separate lines with '|'.<br />Each group of 4 points is used to draw bézier curves.<br />
		<textarea name="lineData" rows=30 wrap="soft"></textarea><br />
		<div style="padding:10px">
		   <button type="button" onclick="submitLines('lineData');">Draw lines</button>
		   <button type="button" onclick="submitBezier('lineData');">Draw bézier curves</button>
		   <button type="button" onclick="clearCanvas();">Clear canvas</button>
		</div>
    </div>
    <div id="canvas"><canvas id="plot" width="800" height="800"></canvas></div>
    <div id="debug"></div>
</body>
</html>
