<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Bezier Plot</title>
<script type="text/javascript" src="utils.js"></script>
<script type="text/javascript" src="drawable.js"></script>
<script type="text/javascript" src="point.js"></script>
<script type="text/javascript" src="line.js"></script>
<script type="text/javascript" src="bezier.js"></script>
<script type="text/javascript" src="bezier_plot.js"></script>

<script language="javascript">
<!--
    function clear()
    {
        this.value = "0,0 10,90 | 150,110 200,-10"
        this.focus();
    }

    function clearTextAreas()
    {
        clearText("lineData");
    }

    function clearText(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        textArea.clear = clear;
        textArea.clear();
    }

    function submitPoints(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawPoints(parsePoints(textArea.value));
    }

    function submitLines(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawLines(parseLines(textArea.value));
    }

    function submitPolygons(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawLines(parseLines(textArea.value), true);
    }

    function submitRectangle(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawRectangle(parsePoints(textArea.value));
    }

    function submitBezier(area)
    {
        textArea = document.getElementsByName(area)[0];
        if (textArea == null)
        {
            return;
        }

        drawBezier(parseBezier(textArea.value));
    }

    function HideContent(d)
    {
        if (d.length < 1)
        {
            return;
        }
        document.getElementById(d).style.display = "none";
    }

    function ShowContent(d)
    {
        if (d.length < 1)
        {
            return;
        }
        document.getElementById(d).style.display = "block";
    }
-->
</script>

<style type="text/css">
    #data { text-align:left; float:left; width:30%; top:10px; left:10px; }
    #canvas { border:1px solid; width:69%; height:800px; float:left; top:10px; }
    #debug { color: blue; border: 1px none; padding:3px; top:550px; }
    div { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; }
    textarea { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; width:95%; height:60%; }
    a { text-decoration:none; }
    #help { display:none; position:absolute; top:35px; border-style:solid; background-color: #eeeeee; padding:5px; }
</style>
</head>

<body onload="clearTextAreas(); init('canvas');" bgcolor="#ffffff">
    <div id="helpLink">
        <a onmouseover="ShowContent('help'); return true;"
           onmouseout="HideContent('help'); return true;"
        href="javascript:ShowContent('help')">Help</a>
    </div>
    <div id="help">
        Points: each point is drawn individually.<br/>
        Lines: each consecutive points are connected. Use "|" to separate points.<br/>
        Polygons: like lines except that the last point is connected to the first point.<br/>
        Rectangles: each group of 2 points is used to form a rectangle (top,left) (bottom,right).<br/>
        Bézier curves: each group of 4 points is used to form a cubic bézier curve.<br/><br/>
        Note: any non-numeric character is ignored, except "|"
    </div>
    <div id="data">
        <textarea name="lineData" rows=30 wrap="soft"></textarea><br/>
        <div style="padding:10px">
           <button type="button" onclick="submitPoints('lineData');">Points</button>
           <button type="button" onclick="submitLines('lineData');">Lines</button>
           <button type="button" onclick="submitPolygons('lineData');">Polygons</button>
           <button type="button" onclick="submitRectangle('lineData');">Rectangles</button>
           <button type="button" onclick="submitBezier('lineData');">Bézier curves</button>
           <center><button type="button" onclick="clearCanvas();">Clear canvas</button></center>
        </div>
    </div>
    <canvas id="canvas"></canvas>
    <div id="debug"></div>
</body>
</html>
